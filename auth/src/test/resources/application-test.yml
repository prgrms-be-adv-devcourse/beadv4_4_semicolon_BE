spring:
  application:
    name: auth-test

  # === Database (H2 In-Memory for Testing) ===
  datasource:
    url: jdbc:h2:mem:testdb;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driver-class-name: org.h2.Driver
    username: sa
    password: ""

    # === Connection Pool (HikariCP minimal) ===
    hikari:
      minimum-idle: 1
      maximum-pool-size: 5
      idle-timeout: 10000
      connection-timeout: 10000
      max-lifetime: 60000

  # === Hibernate / JPA ===
  jpa:
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    open-in-view: false
    properties:
      hibernate:
        format_sql: true
        use_sql_comments: true

  # === Jackson TimeZone ===
  jackson:
    time-zone: Asia/Seoul

# === Logging ===
logging:
  level:
    root: WARN
    com.ballon: DEBUG
    org.hibernate.SQL: DEBUG
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE
  # === Logging File (inactive) ===
  file:
    name: ""

# === Swagger / API Docs (inactive) ===
springdoc:
  api-docs:
    enabled: false
  swagger-ui:
    enabled: false

# === JWT / Crypto (test key) ===
jwt:
  access:
    secret:
      key: dGhpcy1pcy1hLXN1cGVyLXNlY3VyZS1hbmQtbG9uZy10ZXN0LWtleS1mb3Itand0
  refresh:
    secret:
      key: YS1kaWZmZXJlbnQtc3VwZXItc2VjdXJlLWFuZC1sb25nLXRlc3Qta2V5LWZvci1yZWZyZXNo

crypto:
  key: lGCfIAPebEerr2SH6W4Jy/63+K46CvAnWJkvFOPLIbo=

# === Server Settings ===
server:
  port: 0
  forward-headers-strategy: none

custom:
  global:
    internalBackUrl: http://localhost:${server.port:8080}